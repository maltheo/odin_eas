<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/styles.css">
</head>
<body>
    <div id="input_form">
        <h3>Etch-a-sketch using divs!</h3>
        <div>
            <input id="row_count">
            <button id="submit_rowcount">Set rows</button>
        </div>
        <div>
            <input id="col_count">
            <button id="submit_colcount">Set columns</button>
        </div>
    </div>

    <div id="eas">
        <div id="grid">
        </div>
    </div>

    <div>
        <button id="clearScreen">Clear screen</button>
    </div>

    <script>
        let row_div, col_div;

        // grab window dimensions from browser
        const SCREEN_WIDTH = window.innerWidth;
        const SCREEN_HEIGHT = window.innerHeight;
        const gridSize = Math.min(SCREEN_WIDTH, SCREEN_HEIGHT);
        console.log(gridSize);

        // set up a grid of divs with a background color
        const ROW_COUNT = 16;
        const COL_COUNT = 16;
        const grid = document.querySelector("#grid");

        for (let col_index = 0; col_index <= COL_COUNT -1; col_index++) {
            row_div = document.createElement("div");
            for (let row_index = 0; row_index <= ROW_COUNT - 1; row_index++) {
                col_div = document.createElement("div");
                // col_div.addEventListener("mousover", (event) => {
                //     console.log("Hover!");
                // });
                col_div.setAttribute("id", `${row_index}_${col_index}`);
                col_div.setAttribute("class", "eas_div");
                row_div.appendChild(col_div);
            };
            grid.appendChild(row_div);
        };

        // make background color of hovered-over div change
        grid.addEventListener("mouseover", (event) => {
            console.log(event.target);
            thisDiv = document.getElementById(event.target.id);
            thisDiv.style.backgroundColor = "black";
            // setTimeout(() => {thisDiv.style.backgroundColor = "pink"}, 50)
        });

        // add functionality to clear screen button
        const clearScreen = document.getElementById("clearScreen");
        clearScreen.addEventListener("click", () => {
            let easDivs = document.querySelectorAll(".eas_div");
            easDivs.forEach(resetBackground);
        })

        // function used to clear screen by resetting color for each div
        function resetBackground(item) {
            item.style.backgroundColor = "lightslategray";
        }
    </script>
</body>
</html>